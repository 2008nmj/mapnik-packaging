MAPNIK_SOURCE = [ modules.peek : MAPNIK_SOURCE ] ;
project : source-location  $(MAPNIK_SOURCE)/src ;
    
lib mapnik
    :
    color.cpp
    image_compositing.cpp
	image_scaling.cpp
    conversions.cpp
    box2d.cpp
    building_symbolizer.cpp
    datasource_cache.cpp
	debug.cpp
    deepcopy.cpp
    expression_string.cpp
    expression.cpp
	transform_expression.cpp
    feature_kv_iterator.cpp
    feature_type_style.cpp 
    font_engine_freetype.cpp
    font_set.cpp
    gamma_method.cpp
    gradient.cpp
    graphics.cpp
    image_reader.cpp
    image_util.cpp
    layer.cpp
    line_symbolizer.cpp
    line_pattern_symbolizer.cpp
    map.cpp
    load_map.cpp
    memory.cpp
    parse_path.cpp
	parse_transform.cpp
    palette.cpp
    placement_finder.cpp
    plugin.cpp
    png_reader.cpp
    point_symbolizer.cpp
    polygon_pattern_symbolizer.cpp
    polygon_symbolizer.cpp
    save_map.cpp
    shield_symbolizer.cpp
    text_symbolizer.cpp
    tiff_reader.cpp
    wkb.cpp
    projection.cpp
    proj_transform.cpp
    distance.cpp
    scale_denominator.cpp
    memory_datasource.cpp
    stroke.cpp
    symbolizer.cpp
    symbolizer_helpers.cpp
    arrow.cpp
    unicode.cpp
    markers_symbolizer.cpp
    metawriter.cpp
    raster_colorizer.cpp
    wkt/wkt_factory.cpp
    metawriter_inmem.cpp
    metawriter_factory.cpp
    mapped_memory_cache.cpp
    marker_cache.cpp
    svg_parser.cpp
    svg_path_parser.cpp
    svg_points_parser.cpp 
    svg_transform_parser.cpp
    warp.cpp
    json/feature_collection_parser.cpp
    json/geojson_generator.cpp
    markers_placement.cpp
    processed_text.cpp
    formatting/base.cpp
    formatting/expression.cpp
    formatting/list.cpp
    formatting/text.cpp
    formatting/format.cpp
    formatting/registry.cpp
    text_placements/registry.cpp
    text_placements/base.cpp
    text_placements/dummy.cpp
    text_placements/list.cpp
    text_placements/simple.cpp
    text_properties.cpp
    xml_tree.cpp
    config_error.cpp

    # others
    feature_style_processor.cpp
    mapped_memory_cache.cpp
    jpeg_reader.cpp
    libxml2_loader.cpp
    #rapidxml_loader.cpp
    load_map.cpp
    
    # cairo
    cairo_renderer.cpp
  
    # agg
    agg/process_building_symbolizer.cpp
    agg/process_line_symbolizer.cpp
    agg/process_line_pattern_symbolizer.cpp
    agg/process_text_symbolizer.cpp
    agg/process_point_symbolizer.cpp
    agg/process_polygon_symbolizer.cpp
    agg/process_polygon_pattern_symbolizer.cpp
    agg/process_raster_symbolizer.cpp
    agg/process_shield_symbolizer.cpp
    agg/process_markers_symbolizer.cpp
    agg/agg_renderer.cpp
    #grid
	grid/grid.cpp
    grid/grid_renderer.cpp
    grid/process_building_symbolizer.cpp
    grid/process_line_pattern_symbolizer.cpp
    grid/process_line_symbolizer.cpp
    grid/process_markers_symbolizer.cpp
    grid/process_point_symbolizer.cpp
    grid/process_polygon_pattern_symbolizer.cpp
    grid/process_polygon_symbolizer.cpp
    grid/process_raster_symbolizer.cpp
    grid/process_shield_symbolizer.cpp
    grid/process_text_symbolizer.cpp
    #wkt
    wkt/wkt_factory.cpp
    ../deps/agg//agg
    ..//thread
    ..//filesystem
    ..//regex
    ..//z
    ..//png
    ..//jpeg
    ..//tiff
    ..//freetype2
    ../ltdl//ltdl
    ..//proj
    ..//icu
    ..//xml2
    ..//cairo
    ..//cairomm
      :   
        <define>HAVE_XML2
		#<define>MAPNIK_STATS
        <define>MAPNIK_EXPORTS
        <link>shared
        <linkflags>/VERBOSE:LIB
        <linkflags>/NODEFAULTLIB:libcmt.lib
        <variant>debug:<linkflags>/NODEFAULTLIB:msvcrt.lib
    ;