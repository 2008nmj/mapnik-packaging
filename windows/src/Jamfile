MAPNIK_SOURCE = [ modules.peek : MAPNIK_SOURCE ] ;
project : source-location  $(MAPNIK_SOURCE)/src ;
		
lib mapnik
    : 
	arrow.cpp
	box2d.cpp
	cairo_renderer.cpp
	color.cpp
	datasource_cache.cpp
	distance.cpp
	expression_string.cpp
	feature_style_processor.cpp
	feature_type_style.cpp
	filter_factory.cpp
	font_engine_freetype.cpp
	font_set.cpp
	gamma_method.cpp
	glyph_symbolizer.cpp
	gradient.cpp
	graphics.cpp
	image_reader.cpp
	image_util.cpp
	jpeg_reader.cpp
	layer.cpp
	libxml2_loader.cpp
	line_pattern_symbolizer.cpp
	line_symbolizer.cpp
	load_map.cpp
	map.cpp
	mapped_memory_cache.cpp
	marker_cache.cpp
	markers_symbolizer.cpp
	memory.cpp
	memory_datasource.cpp
	metawriter.cpp
	metawriter_factory.cpp
	metawriter_inmem.cpp
	palette.cpp
	parse_path.cpp
	placement_finder.cpp
	plugin.cpp
	png_reader.cpp
	point_symbolizer.cpp
	polygon_pattern_symbolizer.cpp
	proj_transform.cpp
	projection.cpp
	raster_colorizer.cpp
	save_map.cpp
	scale_denominator.cpp
	shield_symbolizer.cpp
	stroke.cpp
	svg_parser.cpp
	svg_path_parser.cpp
	svg_points_parser.cpp
	svg_transform_parser.cpp
	symbolizer.cpp
	text_placements.cpp
	text_symbolizer.cpp
	tiff_reader.cpp
	unicode.cpp
	warp.cpp
	wkb.cpp

	# agg	
    	agg/process_building_symbolizer.cpp
    	agg/process_glyph_symbolizer.cpp
    	agg/process_line_symbolizer.cpp
    	agg/process_line_pattern_symbolizer.cpp
    	agg/process_text_symbolizer.cpp
    	agg/process_point_symbolizer.cpp
    	agg/process_polygon_symbolizer.cpp
    	agg/process_polygon_pattern_symbolizer.cpp
    	agg/process_raster_symbolizer.cpp
    	agg/process_shield_symbolizer.cpp
    	agg/process_markers_symbolizer.cpp
	agg/agg_renderer.cpp
	#grid
	grid/grid_renderer.cpp
	grid/process_building_symbolizer.cpp
	grid/process_glyph_symbolizer.cpp
	grid/process_line_pattern_symbolizer.cpp
	grid/process_line_symbolizer.cpp
	grid/process_markers_symbolizer.cpp
	grid/process_point_symbolizer.cpp
	grid/process_polygon_pattern_symbolizer.cpp
	grid/process_polygon_symbolizer.cpp
	grid/process_raster_symbolizer.cpp
	grid/process_shield_symbolizer.cpp
	grid/process_text_symbolizer.cpp
	#wkt
	wkt/wkt_factory.cpp
	../deps/agg//agg
      	..//thread
      	..//filesystem
      	..//regex
      	..//z
      	..//png
      	..//jpeg
      	..//tiff
      	..//freetype2
      	../ltdl//ltdl
        ..//proj
	..//icu
	..//xml2
	..//cairo
	..//cairomm
    :   
        <define>HAVE_XML2
	<define>MAPNIK_EXPORTS
      	<link>shared
	<linkflags>/VERBOSE:LIB
	<linkflags>/NODEFAULTLIB:libcmt.lib
        <variant>debug:<linkflags>/NODEFAULTLIB:msvcrt.lib
    ;